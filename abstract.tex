% icai2017.sty uses the next packages:
% geometry, [utf8]inputenc, [T1]fontenc, [english]babel, graphicx, [intlimits]amsmath, amssymb, amsthm, caption, titlesec, url
%
% Defined theorem-like environments:
% definition, theorem, lemma, remark, example, corollary, proof
%
% You can define new theorem-like environment in the following way (see amsthm.sty):
% \newtheorem{prob}[theorem]{Problem}

\documentclass{article}
\usepackage{icai2017}
\usepackage{graphicx}

\usepackage{array}
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

\newtheorem{prob}[theorem]{Problem}

\title{Cross Translational Unit Analysis in Clang Static Analyzer: Qualitative Evaluation on C/C++ projects}
\author{D\'aniel Krupp\inst1, G\'abor Horv\'ath\inst2,\ Zolt\'an Gera\inst2, \ P\' eter Sz\' ecsi\inst2}
\institute{\inst1Ericsson Ltd., \inst2E\"{o}tv\"{o}s Lor\'{a}nd University, Faculty of Informatics\\
             \inst1\url{daniel.krupp@ericsson.com},                           
             \inst2\url{xazax@caesar.elte.hu}, 
             \inst2\url{gerazo@caesar.elte.hu},
             \inst2\url{szepet95@gmail.com}}
             
\begin{document}
\maketitle

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Abstract}
Today Clang Static Analyzer \cite{clangsa} can perform (context-sensitive) inter-procedural analysis for 
C, C++ and Objective C files by ''inlining'' 
the called function into the callers' context. This means that that the full 
calling context
(assumptions about the values of function parameters, global variables) is passed when 
analyzing the called function and
then the assumptions about the returned value is passed back to the caller. 
This works well for function calls within a
translation unit (TU), but when the symbolic execution reaches a function that 
is implemented in another TU, the analyzer engine 
skips the analysis of the called function definition. In particular,
assumptions about references and pointers passed as function 
parameters get invalidated, and the return value of the function will be unknown.
Losing information this way may lead to false positive
and false negative findings.

The cross translation unit (CTU) feature allows the analysis of called 
functions even if the definition of the function is external to the currently 
analyzed TU. This allows detection of bugs in library functions stemming
from incorrect usage (e.g. a library assumes that the user will free a memory 
block allocated by the library), and allows for more precise analysis
of the caller in general if a TU external function is invoked
(by not losing assumptions).

We implemented (based on the prototype by A. Sidorin, et al.~\cite{artemctu})
the Cross Translation Unit analysis feature for Clang SA (5.0) and evaluated 
its performance on various open source projects. 

G\'abor Horv\'ath presented our results at EuroLLVM 2017 \cite{eurollvm17}.
Since that talk (in March, 2017) we have improved the CTU prototype considerably 
\begin{itemize}
\item to handle C++ source code (not only C). There are several improvements on 
the ASTImporter library.
\item to be able to perform analysis with scan-build-py and CodeChecker tools
\end{itemize}

In the talk in 2017 we were focusing how CTU is implemented and what how the 
analsys performance compares to the baseline.

In this poster we will show quality of analysis results on popular open source
projects such as Xerces, Bitcoin, Postgresql etc.

According found that in CTU mode the identifies 1.5-2 times more potential bugs.
We will examine in detail the following
\begin{itemize}
\item identify new findings that are true positive
\item identify new findings that are false positive
\item examine in detail disappeared findings. Have we lost true positive findings
due to potential coverage loss, or we lost some false positives due 
to more precise analysis.
\item what is the distribution of of the path length of the new findings. Reports
with too long (longer than ~15) steps is very hard to understand for a programmer.
\end{itemize}

Our CTU patch is currently under review by the clang static analyzer community
and very close to acceptance: \url{https://github.com/dkrupp/clang/wiki/TMUX-XTU-Analysis}

We maintain a more feature complete version at \url{https://github.com/Ericsson/clang}.


%\keywords C++ programming language, static analysis, cross translation unit analysis, clang

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\section{Credits}
This work is based on earlier work of Aleksei Sidorin,\ Artem Dergachev,\ 
et al.\@ See \url{http://lists.llvm.org/pipermail/cfe-dev/2015-October/045730.html}

\begin{thebibliography}{9}
\bibitem{ccelte} Cross-TU Analysis results on open source projects, \url{http://cc.elte.hu/}

\bibitem{artemctu} Artem Dergachev, Aleksei Sidorin: \emph{Cross TU Analysis for Clang 3.4}
  \url{http://lists.llvm.org/pipermail/cfe-dev/2015-October/045730.html}

\bibitem{clang} clang: a C language family frontend for LLVM, \url{https://clang.llvm.org/}
\bibitem{clangsa} Clang Static Analyzer, \url{https://clang-analyzer.llvm.org/}
\bibitem{ericssonctu} Ericsson CTU open source repository, \url{https://github.com/Ericsson/clang}
\bibitem{ffmpeg} FFmpeg project, \url{https://github.com/FFmpeg/FFmpeg}
\bibitem{tmux} tmux project, \url{https://github.com/tmux/tmux}
\bibitem{curl} curl project, \url{https://github.com/curl/curl}
\bibitem{astimporter} \texttt{ASTImporter}, \url{http://clang.llvm.org/doxygen/classclang_1_1ASTImporter.html}
\bibitem{ffmpegres} FFmpeg CTU Results, {\small \url{https://github.com/dkrupp/clang/wiki/FFMpeg-XTU-Analysis}}
\bibitem{tmuxres} tmux CTU Results, \url{https://github.com/dkrupp/clang/wiki/TMUX-XTU-Analysis}
\bibitem{curlres} curl CTU Results, \url{https://github.com/dkrupp/clang/wiki/Curl-XTU-Analysis}
\bibitem{codechecker} CodeChecker, \url{https://github.com/Ericsson/codechecker}
\bibitem{eurollvm17} G\'abor Horva\'th, D\'aniel Krupp, Zolt\'an Gera, P\'eter Sz\'ecsi, Cross Translational Unit Analysis in Clang Static Analyzer: Prototype and Measurements, EuroLLVM2017
\end{thebibliography}
\end{document} 
